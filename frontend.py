import streamlit as st
from main import analyze_code

st.title("Vulnerability sMITRE")
st.write("Analyze your code for a certain vulnerability")

with st.form("user_input"):
    input_code = st.text_area("Your Code")
    input_cve = st.text_input("Vulnerability CVE Code")
    openai_key = st.text_input("OpenAI Key")
    smite = st.form_submit_button("Smite this vulnerability!")

if input_code and input_cve and openai_key and smite:
    st.write("Here is the analysis of your code:")

    # Call the function to analyze the code
    results = analyze_code(input_code, input_cve, openai_key)
    st.write(results)
